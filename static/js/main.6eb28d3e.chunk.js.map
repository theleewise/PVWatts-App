{"version":3,"sources":["components/ResultsTable.jsx","components/Range.jsx","components/Input.jsx","components/Select.jsx","components/Form.jsx","App.js","hooks/useFetch.js","index.js"],"names":["ResultsTable","acMonthly","poa","days","arr","len","chunks","n","length","i","push","slice","chunkArr","className","map","row","idx","num","Array","_","dayNum","hour","Range","label","id","name","value","min","max","step","showInput","handleValue","useState","val","setVal","error","setError","useEffect","handleChange","e","preventDefault","thisVal","target","handleChangeEnd","thisName","htmlFor","type","onChange","onMouseUp","onBlur","Input","isRequired","required","Select","options","disabled","item","text","Form","handleSubmit","handleInputChange","fieldValues","setFieldValues","prevState","newVals","address","module_type","array_type","system_capacity","losses","tilt","azimuth","onClick","Object","keys","App","defaultUrlParams","api_key","timeframe","format","initialUrl","initialParams","skip","didMountRef","useRef","url","updateUrl","params","updateParams","data","setData","isLoading","setIsLoading","hasError","setHasError","errorMessage","setErrorMessage","refetchIndex","setRefetchIndex","queryString","key","encodeURIComponent","join","refetch","prevRefetchIndex","a","current","fetch","response","json","result","ok","message","fetchData","useFetch","setParams","displayResults","setDisplayResults","console","errors","outputs","role","newParams","ac_monthly","defaultProps","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6eb28d3e.chunk.js","sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function ResultsTable({ acMonthly, poa }) {\n  const monthName = (num) => {\n    const names = ['Janaruy', 'Febuary', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    return names[num];\n  };\n\n  const chunkArr = (arr, len) => {\n    const chunks = [];\n    const n = arr.length;\n    let i = 0;\n    while (i < n) { chunks.push(arr.slice(i, i += len)); }\n    return chunks;\n  };\n\n  const days = chunkArr(poa, 24);\n\n  return (\n    <div>\n      {acMonthly && (\n        <table className=\"table table-sm table-striped table-dark table-bordered\">\n          <thead>\n            <tr>\n              <th>Month</th>\n              <th>AC System Output (kWhac)</th>\n            </tr>\n          </thead>\n          <tbody>\n            {acMonthly.map((row, idx) => (\n              <tr key={idx}>\n                <td>{monthName(idx)}</td>\n                <td>{row}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      {days && (\n        <table className=\"table table-responsive table-sm table-striped table-dark table-bordered\">\n          <thead>\n            <tr>\n              <th>Day</th>\n              {[...Array(24)].map((_, i) => <th key={i}>{`Hour ${i + 1}`}</th>)}\n            </tr>\n          </thead>\n          <tbody>\n            {days.map((row, dayNum) => (\n              <tr key={dayNum}>\n                <td>{`Day ${dayNum + 1}`}</td>\n                {row.map((hour, i) => <td key={i}>{hour > 0 && hour}</td>)}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n}\n\nResultsTable.propTypes = {\n  acMonthly: PropTypes.arrayOf(PropTypes.number).isRequired,\n  poa: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n","/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Range({label, id, name, value, min, max, step, showInput = true, handleValue}) {\n  const [val, setVal] = useState(value);\n  const [error, setError] = useState('');\n\n  useEffect(() => setVal(value), [value]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const thisVal = e.target.value;\n    if(thisVal > max){\n      setError(`Maximum is ${max}`);\n      setVal(max);\n    }\n    else if(thisVal < min){\n      setError(`Minimum is ${min}`);\n      setVal(min);\n    }\n    else {\n      setError('');\n      setVal(thisVal);\n    }\n  };\n  \n  const handleChangeEnd = (e) => {\n    e.preventDefault();\n    const thisName = e.target.name;\n    const thisVal = e.target.value;\n    setVal(thisVal);\n    handleValue(thisName, thisVal);\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label htmlFor={id}>{label}</label>\n          <input\n            id={id}\n            name={name}\n            type=\"range\"\n            min={min}\n            max={max}\n            step={step}\n            className={`form-control-range ${error.length > 0 ? `is-invalid` : ''}`}\n            onChange={handleChange}\n            onMouseUp={handleChangeEnd}\n            value={val}\n          />\n          {error.length > 0 && <div className=\"invalid-feedback\">{error}</div>}\n        </div>\n      </div>\n      {showInput && (\n        <div className=\"col-4\">\n          <input className={`form-control ${error.length > 0 ? `is-invalid` : ''}`} type=\"number\" value={val} onChange={handleChange} onBlur={handleChangeEnd} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nRange.propTypes = {\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  step: PropTypes.number,\n  showInput: PropTypes.bool,\n  handleValue: PropTypes.func.isRequired,\n};\n\nRange.defaultProps = {\n  value: 0,\n  step: 1,\n  showInput: true,\n};","/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Input({label, id, name, value, isRequired, handleValue}) {\n  const [val, setVal] = useState(value);\n  const [error, setError] = useState('');\n\n  useEffect(() => setVal(value), [value]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const thisName = e.target.name;\n    const thisVal = e.target.value;\n    setError('');\n    setVal(thisVal);\n    handleValue(thisName, thisVal);\n  };\n  \n  return (\n    <div className=\"form-group\">\n      <label htmlFor={id}>{label}</label>\n      <input\n        type=\"text\"\n        className={`form-control ${error.length > 0 ? `is-invalid` : ''}`}\n        id={id}\n        value={val}\n        onChange={handleChange}\n        name={name}\n        required={isRequired}\n      />\n      {error.length > 0 && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleValue: PropTypes.func.isRequired,\n};\n\nInput.defaultProps = {\n  value: '',\n  isRequired: false,\n};","/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Select({label, id, name, value, options, isRequired, handleValue}) {\n  const [val, setVal] = useState(value);\n  const [error, setError] = useState('');\n\n  useEffect(() => setVal(value), [value]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const thisName = e.target.name;\n    const thisVal = e.target.value;\n    setError('');\n    setVal(thisVal);\n    handleValue(thisName, thisVal);\n  };\n  \n  return (\n    <div className=\"form-group\">\n      <label htmlFor={id}>{label}</label>\n      <select\n        className={`custom-select form-control ${error.length > 0 ? `is-invalid` : ''}`}\n        id={id}\n        value={val}\n        onChange={handleChange}\n        name={name}\n        required={isRequired}\n      >\n        <option disabled={isRequired} value=\"\">Choose...</option>\n        {options.map((item, idx) => {\n          const val = typeof item === 'object' ? (item.length > 1 ? item[1] : item[0]) : item;\n          const text = typeof item === 'object' ? item[0] : item;\n          return <option key={`${id}-key-${idx}`} value={val}>{text}</option>;\n        })}\n      </select>\n      {error.length > 0 && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n\nSelect.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleValue: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n};\n\nSelect.defaultProps = {\n  value: '',\n  isRequired: false,\n};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Range from './Range';\nimport Input from './Input';\nimport Select from './Select';\n\nexport default function Form({ handleSubmit, handleInputChange }) {\n  const [fieldValues, setFieldValues] = useState({});\n\n  const handleValue = (name, val) => {\n    setFieldValues((prevState) => {\n      const newVals = { ...prevState };\n      newVals[name] = val;\n      return newVals;\n    });\n    handleInputChange(name, val);\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setFieldValues({});\n  };\n\n  return (\n    <div className=\"my-4\">\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <Input\n            id=\"addressInput\"\n            label=\"Address\"\n            name=\"address\"\n            value={fieldValues.address}\n            isRequired\n            handleValue={handleValue}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <Select\n            id=\"moduleTypeInput\"\n            label=\"Module Type\"\n            value={fieldValues.module_type}\n            name=\"module_type\"\n            options={[['Standard', 0], ['Premium', 1], ['Thin film', 2]]}\n            isRequired\n            handleValue={handleValue}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <Select\n            id=\"arrayTypeInput\"\n            label=\"Array Type\"\n            value={fieldValues.array_type}\n            name=\"array_type\"\n            options={[['Fixed - Open Rack', 0], ['Fixed - Roof Mounted', 1], ['1-Axis', 2], ['1-Axis Backtracking', 3], ['2-Axis', 4]]}\n            isRequired\n            handleValue={handleValue}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <Range\n            id=\"systemCapacityInput\"\n            value={fieldValues.system_capacity}\n            name=\"system_capacity\"\n            label=\"Nameplate Capacity (kW).\"\n            min={0.05}\n            max={500000}\n            step={10}\n            handleValue={handleValue}\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <Range\n            id=\"systemLossesInput\"\n            value={fieldValues.losses}\n            name=\"losses\"\n            label=\"System Losses (percent)\"\n            min={-5}\n            max={99}\n            handleValue={handleValue}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <Range\n            id=\"titleInput\"\n            value={fieldValues.tilt}\n            name=\"tilt\"\n            label=\"Title Angle (degrees)\"\n            min={0}\n            max={99}\n            handleValue={handleValue}\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <Range\n            id=\"azimuthAngleInput\"\n            value={fieldValues.azimuth}\n            name=\"azimuth\"\n            label=\"Azimuth Angle (degrees)\"\n            min={0}\n            max={99}\n            handleValue={handleValue}\n          />\n        </div>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit}>Submit</button>\n      {Object.keys(fieldValues).length > 0 && <button type=\"button\" className=\"btn btn-secondary\" onClick={handleReset}>Reset</button>}\n    </div>\n  );\n}\n\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n};\n","/* eslint-disable no-console */\n/* eslint-disable react/jsx-filename-extension */\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useFetch } from './hooks';\nimport ResultsTable from './components/ResultsTable';\nimport Form from './components/Form';\n\nexport default function App() {\n  const url = 'https://developer.nrel.gov/api/pvwatts/v6.json?';\n  const defaultUrlParams = {\n    api_key: 'Pe94WWsLk3PoPXObJEX4yxGcfXRNiDIwxVdZwCzq',\n    timeframe: 'hourly',\n    format: 'json',\n  };\n  const {\n    data, isLoading, updateParams, hasError, errorMessage,\n  } = useFetch(url, defaultUrlParams, true);\n  const [params, setParams] = useState(defaultUrlParams);\n  const [displayResults, setDisplayResults] = useState(false);\n\n  useEffect(() => { if (errorMessage) { console.error(errorMessage.errors); } }, [errorMessage]);\n  useEffect(() => {\n    if (!hasError && data && data.outputs) { setDisplayResults(true); }\n  }, [hasError, data]);\n\n  const handleInputChange = (name, val) => {\n    const isEmpty = name.length <= 0;\n    if (isEmpty) return;\n    setDisplayResults(false);\n    setParams((prevState) => {\n      const newParams = { ...prevState };\n      newParams[name] = val;\n      return newParams;\n    });\n  };\n\n  const handleSubmit = () => updateParams(params);\n\n  const handleBack = () => setDisplayResults(false);\n\n  return (\n    <div className=\"container\">\n\n      {hasError && !isLoading && (\n        <div className=\"mt-4 alert alert-danger\" role=\"alert\">\n          <strong>Oh No!</strong>\n          Something went wrong.\n          {errorMessage.errors && (\n            <ul>\n              {errorMessage.errors.map((message) => <li>{message}</li>)}\n            </ul>\n          )}\n        </div>\n      )}\n\n      {!displayResults && !isLoading && (\n        <Form handleSubmit={handleSubmit} handleInputChange={handleInputChange} />\n      )}\n\n      {isLoading && (\n        <div className=\"py-5 text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\"><span className=\"sr-only\">Loading...</span></div>\n        </div>\n      )}\n\n      {data && displayResults && !isLoading && (\n        <div className=\"my-4\">\n          <ResultsTable acMonthly={data.outputs.ac_monthly} poa={data.outputs.poa} />\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={handleBack}>Back to Form</button>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable import/prefer-default-export */\nimport { useState, useEffect, useRef } from 'react';\n\nexport const useFetch = (initialUrl, initialParams = {}, skip = false) => {\n  const didMountRef = useRef(false);\n  const [url, updateUrl] = useState(initialUrl);\n  const [params, updateParams] = useState(initialParams);\n  const [data, setData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [refetchIndex, setRefetchIndex] = useState(0);\n  const queryString = Object.keys(params)\n    .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`).join('&');\n  const refetch = () => setRefetchIndex((prevRefetchIndex) => prevRefetchIndex + 1);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (skip && !didMountRef.current) {\n        didMountRef.current = true;\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const response = await fetch(`${url}${queryString}`);\n        const result = await response.json();\n        if (response.ok) {\n          setData(result);\n        } else {\n          setHasError(true);\n          setErrorMessage(result);\n        }\n      } catch (err) {\n        setHasError(true);\n        setErrorMessage(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [url, params, refetchIndex]);\n\n  return {\n    data, isLoading, hasError, errorMessage, updateUrl, updateParams, refetch,\n  };\n};\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}